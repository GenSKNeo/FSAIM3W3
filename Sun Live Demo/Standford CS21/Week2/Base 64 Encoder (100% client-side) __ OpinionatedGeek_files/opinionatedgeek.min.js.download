function typeaheadSource(n){return function(t,i){var r=[],u=new RegExp(t,"i");$.each(n,function(n,t){u.test(t)&&r.push({name:t})});i(r)}}function actionButtonOnClick(n){var u=$(n.target),r=u.attr("nextlink"),t,i;r&&(t=n.target.form,t&&(i=t.elements.namedItem("__nextlink"),i||($("<input />").attr("type","hidden").attr("name","__nextlink").appendTo(t),i=t.elements.namedItem("__nextlink")),i.value=r))}function createRichTextEditor(n){var t=new MediumEditor(document.getElementById(n),{autoLink:!0,buttonLabels:"fontawesome",placeholder:{hideOnClick:!0},extensions:{autolist:new AutoList,expandCollapse:new ExpandCollapseButton,smartquotes:new SmartQuotes,table:new MediumEditorTable},toolbar:{buttons:["h2","h3","anchor","quote","html","orderedlist","unorderedlist","indent","outdent","table","removeFormat","expandCollapse"]}});t.toString()}Event.prototype.cancel=function(){this.preventDefault&&this.preventDefault();this.stopPropagation?this.stopPropagation():this.cancelBubble=!0};$(function(){$("form input[actionid]").keypress(function(n){if(n.which&&n.which===13||n.keyCode&&n.keyCode===13){var t=n.currentTarget.attributes.actionid.value;return $("#"+t).click(),!1}return!0})}),function(n,t){"use strict";typeof module=="object"?module.exports=t:typeof define=="function"&&define.amd?define(t):n.SmartQuotes=t}(this,function(n){return n.Extension.extend({name:"smartquotes",leftReplacements:{39:"‘",34:"“"},rightReplacements:{39:"’",34:"”"},init:function(){this.subscribe("editableKeypress",this.onRegularKeyPress.bind(this));this.subscribe("editableKeydownDelete",this.onDeleteKeyPress.bind(this))},getPreviousCharacter:function(){var t=null,i=this.document.getSelection(),r,n;return i.rangeCount&&(r=i.getRangeAt(0),n=r.cloneRange(),n.startOffset>0&&(n.setStart(n.startContainer,n.startOffset-1),t=n.toString())),t},getReplacement:function(n){var t=this.getPreviousCharacter();return t>="A"&&t<="Z"||t>="a"&&t<="z"||t>="!"&&t<=","||t===this.leftReplacements[n]?this.rightReplacements[n]:this.leftReplacements[n]},onRegularKeyPress:function(t){var i=n.util.getKeyCode(t),r;switch(i){case 34:case 39:r=this.getReplacement(i);n.util.insertHTMLCommand(this.document,r);t.preventDefault()}},onDeleteKeyPress:function(t){var e=function(n,t){for(var i in n)if(n[i]===t)return i},u=this.document.getSelection(),o,r,f,s,i;if(u.isCollapsed){o=n.util.getKeyCode(t);switch(o){case 8:r=this.getPreviousCharacter();r&&(f=e(this.leftReplacements,r)||e(this.rightReplacements,r),f&&(s=String.fromCharCode(f),u.rangeCount&&(i=u.getRangeAt(0),i.startOffset>0&&(i.setStart(i.startContainer,i.startOffset-1),n.util.insertHTMLCommand(this.document,s),t.preventDefault()))))}}}})}(typeof require=="function"?require("medium-editor"):MediumEditor));var ExpandCollapseButton=MediumEditor.extensions.button.extend({name:"expandCollapse",expanded:!1,originalWidth:null,originalHeight:null,originalLeft:null,originalTop:null,contentDefault:'<i class="fa fa-expand"><\/i>',contentFA:'<i class="fa fa-expand"><\/i>',aria:"Expand/Collapse",action:"expandCollapse",init:function(){MediumEditor.extensions.button.prototype.init.call(this)},handleClick:function(){this.expanded=!this.expanded;this.expanded?this.maximise():this.restore();this.base.checkContentChanged()},isAlreadyApplied:function(){return this.expanded},traverseUpToTagWithClass:function(n,t){for(var i=n;i&&!i.classList.contains(t);)i=i.parentElement;return i},findOffset:function(n){for(var t=n,i=0,r=0;t;)console.log(`Tag: ${t.tagName}, left: ${t.offsetLeft}, top: ${t.offsetTop}`),i+=t.offsetLeft,r+=t.offsetTop,t=t.offsetParent;return{left:i,top:r}},maximise:function(){var t=this.traverseUpToTagWithClass(this.base.getFocusedElement(),"medium-editor-element"),n=this.traverseUpToTagWithClass(t,"snaplets-richtext-editor-container"),i=this.findOffset(n.offsetParent);n.classList.add("snaplets-richtext-editor-maximised");t.classList.add("medium-editor-element-maximised");this.originalWidth=n.style.width;this.originalHeight=n.style.height;this.originalLeft=n.style.left;this.originalTop=n.style.top;n.style.width=`${document.documentElement.clientWidth}px`;n.style.height=`${document.documentElement.clientHeight}px`;n.style.left=`${0-i.left}px`;n.style.top=`${0-i.top}px`;this.base.checkSelection()},restore:function(){var t=this.traverseUpToTagWithClass(this.base.getFocusedElement(),"medium-editor-element"),n=this.traverseUpToTagWithClass(t,"snaplets-richtext-editor-container");n.classList.remove("snaplets-richtext-editor-maximised");t.classList.remove("medium-editor-element-maximised");n.style.width=this.originalWidth;n.style.height=this.originalHeight;n.style.left=this.originalLeft;n.style.top=this.originalTop;this.base.checkSelection()}}),s,app={settings:{},init:function(){var n=this;$(".select-posts,.select-tools").on("click",function(){n.homePostsCatSwitch()});$(".social-icon").on("click",function(){n.socialIconClick($(this))})},homePostsCatSwitch:function(){$(".home-page-posts").toggleClass("hide");$(".home-page-tools").toggleClass("hide");$(".select-posts").toggleClass("active");$(".select-tools").toggleClass("active");$(".home-footer").toggleClass("hide")},socialIconClick:function(n){var t=n.data("platform"),i=n.data("message"),r=n.data("url");return t=="mail"?!0:(this.popItUp(t,i,r),!1)},popItUp:function(n,t,i){var r,u;return n=="twitter"?r="http://twitter.com/home?status="+encodeURI(t)+"+"+i:n=="facebook"&&(r="http://www.facebook.com/share.php?u"+i+"&amp;title="+encodeURI(t)),u=window.open(r,"name","height=500,width=600"),window.focus&&u.focus(),!1}};$(document).ready(function(){app.init()});